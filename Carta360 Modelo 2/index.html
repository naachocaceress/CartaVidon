<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>

   
    
    <a-scene cursor="rayOrigin: mouse">
      <a-sky src="img/imagen360.jpg"></a-sky>

      <a-entity
        id="instagram"
        position="3 1 0"
        rotation="0 90 0"
        geometry="primitive: box; width: 2; height: 0.5; depth: 0.1"
        material="color: #3498db"
        click-handler="url: https://www.instagram.com/vidonbar; text: Ir a Instagram"
      ></a-entity>

      <!-- Ajustamos la rotación del texto para que sea visible -->
      <a-entity
        id="instagram-text"
        position="2.9 1 0"
        rotation="0 -90 0"
        text="value: Ir a Instagram; color: #ffffff; align: center; width: 6;"
      ></a-entity>

      <a-entity
        id="modal"
        position="0 2 -3"
        geometry="primitive: box; width: 2; height: 0.5; depth: 0.1"
        material="color: tomato"
        click-handler="open-modal: true; text: Click aca"
      ></a-entity>

      <a-entity id="modal-container" visible="false">
        <!-- Aquí define el contenido del modal -->
        <a-box width="3" height="1" depth="0.1" material="color: #fff" position="0 1 -2"></a-box>
        <a-text value="VIDON BAR, El lugar de la buena vida" align="center" color="#000" position="0 1 -1.9"></a-text>
      </a-entity>
    </a-scene>

    <div class="bottombar_container">
      <div class="navigation">
          <ul>
              <li class="">
                  <a href="#" class="aBottombar">
                      <span class="icon">
                          <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M176 464h160M256 464V336M384 224c0-50.64-.08-134.63-.12-160a16 16 0 00-16-16l-223.79.26a16 16 0 00-16 15.95c0 30.58-.13 129.17-.13 159.79 0 64.28 83 112 128 112S384 288.28 384 224z" /><path d="M128 96H48v16c0 55.22 33.55 112 80 112M384 96h80v16c0 55.22-33.55 112-80 112" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" /></svg>                            </span>
                      <span class="text">Promos</span>
                  </a>
              </li>
              <li class="">
                  <a href="#" class="aBottombar">
                      <span class="icon">
                          <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path d="M322 416c0 35.35-20.65 64-56 64H134c-35.35 0-56-28.65-56-64M336 336c17.67 0 32 17.91 32 40h0c0 22.09-14.33 40-32 40H64c-17.67 0-32-17.91-32-40h0c0-22.09 14.33-40 32-40" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" /><path d="M344 336H179.31a8 8 0 00-5.65 2.34l-26.83 26.83a4 4 0 01-5.66 0l-26.83-26.83a8 8 0 00-5.65-2.34H56a24 24 0 01-24-24h0a24 24 0 0124-24h288a24 24 0 0124 24h0a24 24 0 01-24 24zM64 276v-.22c0-55 45-83.78 100-83.78h72c55 0 100 29 100 84v-.22M241 112l7.44 63.97" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" /><path d="M256 480h139.31a32 32 0 0031.91-29.61L463 112" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" /><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M368 112l16-64 47-16" /><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M224 112h256" /></svg>                            </span>
                      <span class="text">Menu</span>
                  </a>
              </li>
              <li class="">
                  <a href="#" class="aBottombar">
                      <span class="icon">
                          <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path d="M352 200v240a40.12 40.12 0 01-40 40H136a40.12 40.12 0 01-40-40V224" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" /><path d="M352 224h40a56.16 56.16 0 0156 56v80a56.16 56.16 0 01-56 56h-40" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" /><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M224 256v160M288 256v160M160 256v160M320 112a48 48 0 010 96c-13.25 0-29.31-7.31-38-16H160c-8 22-27 32-48 32a48 48 0 010-96 47.91 47.91 0 0126 9" /><path d="M91.86 132.43a40 40 0 1160.46-52S160 91 160 96M145.83 64.71C163.22 44.89 187.57 32 216 32c52.38 0 94 42.84 94 95.21a95 95 0 01-1.67 17.79" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" /></svg>                            </span>
                      <span class="text">Tragos</span>
                  </a>
              </li>
              <li class="">
                  <a href="#" class="aBottombar">
                      <span class="icon">
                          <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path d="M398.57 80H113.43v16S87.51 272 256 272 398.57 96 398.57 96zM256 272v160" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" /><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M352 432H160" /><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" d="M112 160h288" /></svg>                            </span>
                      <span class="text">Vinos</span>
                  </a>
              </li>
              <li class="">
                  <a href="#" class="aBottombar">
                      <span class="icon">
                          <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M352 256l-96 224-62-145" /><path d="M299.42 223.48C291.74 239.75 275.18 252 256 252c-13.1 0-27-5-33.63-9.76C216.27 237.87 208 240 208 250v62a24.07 24.07 0 01-24 24h0a24.07 24.07 0 01-24-24v-56h-2c-35.35 0-62-28.65-62-64a64 64 0 0164-64h8v-8a88 88 0 01176 0v8h8a64 64 0 010 128c-21.78 0-42-13-52.59-32.51z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" /></svg> </span>
                      <span class="text">Postres</span>
                  </a>
              </li>
              <div class="indicator"></div>
          </ul>

      </div>
  </div>

    

    <script>
      AFRAME.registerComponent("click-handler", {
        schema: {
          url: { type: "string" },
          text: { type: "string" },
          openModal: { type: "boolean", default: false },
        },
        init: function () {
          const data = this.data;
          const el = this.el;

          // Crear el botón de texto
          const textEl = document.createElement("a-entity");
          textEl.setAttribute("position", "0 0 0.05");
          textEl.setAttribute("text", {
            value: data.text,
            align: "center",
            width: 6,
            color: "#ffffff",
          });
          el.appendChild(textEl);

          el.addEventListener("click", function () {
            if (el.id === "modal" && data.openModal) {
              // Abre el modal solo si el elemento tiene id "modal" y openModal es verdadero
              const modalContainer = document.getElementById("modal-container");
              modalContainer.setAttribute("visible", "true");
            } else {
              // Si no es el botón "modal", abre el enlace en una nueva pestaña
              window.open(data.url, "_blank");
            }
          });
        },
      });
    </script>

  </body>
</html> 